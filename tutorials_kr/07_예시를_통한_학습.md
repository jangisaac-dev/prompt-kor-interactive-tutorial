# Thumbnail Prompt
# A parent tenderly showing a child how to tie shoelaces, cinematic lighting, warm atmosphere, focused on the hands and the action of 'showing by example', digital art style.

# Anthropic Prompt Engineering 101 - Part 7: 예시를 통한 학습 (Few-Shot Prompting)

"백문이 불여일견(百聞-不如一見)"이라는 말이 있습니다. 백 번 듣는 것보다 한 번 보는 것이 낫다는 뜻이죠. 이 속담은 프롬프트 엔지니어링의 세계에서도 완벽하게 적용됩니다.

우리는 지금까지 Claude에게 "무엇을 해라", "어떻게 해라"라고 말로 설명하는 데 집중했습니다. 하지만 때로는 수천 자의 상세한 지시사항보다 **잘 만들어진 예시 한두 개**가 Claude의 성능을 획기적으로 끌어올릴 수 있습니다. 이것이 바로 이번 강의에서 다룰 **Few-Shot Prompting**의 핵심입니다.

## 1. Zero-shot vs One-shot vs Few-shot

프롬프트에 포함된 예시의 개수에 따라 우리는 이를 다음과 같이 구분합니다.

*   **Zero-shot**: 예시를 전혀 제공하지 않고 지시사항만 주는 방식입니다. Claude의 기본적인 학습 지식에만 의존합니다.
*   **One-shot**: 딱 하나의 모범 사례(예시)를 제공하여 방향성을 잡아주는 방식입니다.
*   **Few-shot**: 2개에서 5개 사이의 예시를 제공하는 방식입니다. 복잡한 패턴이나 형식을 학습시킬 때 가장 효과적입니다.

Claude와 같은 대규모 언어 모델(LLM)은 근본적으로 **패턴 매칭 기계(Pattern Matcher)**입니다. 모델은 "이러이러한 톤으로 대답해"라는 추상적인 지시어보다, 실제 질문과 답변이 오가는 **패턴**을 볼 때 훨씬 더 정확하게 의도를 파악합니다. 특히 말투(Style)나 복잡한 출력 형식(Format)을 지정할 때는 수백 줄의 설명보다 잘 고른 예시 3개가 훨씬 더 강력한 힘을 발휘합니다.

## 2. 실전 예제 1: 다정한 학부모 봇 (Parent Bot)

설명만으로는 한계가 있는 '말투'와 '뉘앙스'를 조절할 때 예시의 힘은 극대화됩니다.

### 2.1. Zero-shot: 사실 위주의 딱딱한 답변

별다른 예시 없이 지시만 내렸을 때, Claude는 매우 논리적이고 사실적인 답변을 내놓습니다. 하지만 우리가 원하는 것은 아이의 동심을 지켜주는 부모님의 따뜻한 말투입니다.

**프롬프트:**
```text
당신은 아이들의 질문에 대답하는 부모님 역할을 하는 AI입니다.

질문: 산타클로스는 진짜 있어?
```

> ⚠️ 아래 내용은 실제 실행 결과가 아닌 텍스트 시뮬레이션입니다.

**Claude의 답변:**
> 산타클로스는 역사 속의 인물인 성 니콜라우스에서 유래한 전설적인 인물입니다. 실제 생물학적으로 북극에 살며 사슴을 타고 하늘을 나는 사람은 존재하지 않지만, 많은 문화권에서 크리스마스의 정신을 상징하는 인물로 사랑받고 있습니다.

### 2.2. Few-shot: 예시 하나로 바뀌는 페르소나

이제 Claude에게 우리가 원하는 '톤앤매너'를 보여주는 예시를 하나만 추가해 보겠습니다.

**프롬프트:**
```xml
당신은 아이들의 질문에 대답하는 부모님 역할을 하는 AI입니다.

<examples>
    <example>
        <question>이빨 요정은 진짜 있어?</question>
        <answer>물론이지, 아가야! 네가 빠진 이빨을 베개 밑에 두고 자면, 요정님이 몰래 찾아와서 반짝이는 선물로 바꿔준단다. 내일 아침에 베개 밑에 뭐가 있는지 같이 확인해볼까?</answer>
    </example>
</examples>

질문: 산타클로스는 진짜 있어?
```

**Claude의 답변 (Result):**
> 그럼, 진짜 있단다! 산타 할아버지는 일 년 내내 착한 아이들에게 줄 선물을 준비하시느라 아주 바쁘시단다. 이번 크리스마스에도 루돌프와 함께 우리 집에 꼭 들르실 거야. 일찍 자야 선물을 받을 수 있다는 거 잊지 마!

지시사항을 길게 늘어놓지 않아도, "이빨 요정" 예시 하나만으로 Claude는 **'아, 아이들의 동심을 지켜주는 따뜻한 톤으로 대답해야 하는구나'**를 즉각적으로 파악하고 페르소나를 완벽하게 모방합니다.

## 3. 실전 예제 2: 복잡한 정형 데이터 추출 (Silvermist Hollow)

비정형 텍스트에서 특정 정보를 뽑아내어 정형화된 XML 리스트로 만들 때도 Few-shot은 강력합니다. 특히 추출해야 할 항목이 많거나 복잡한 계층 구조를 가질 때 효과적입니다.

**프롬프트:**
```xml
다음 텍스트에서 인물의 이름과 역할(직업)을 추출하여 XML 형식으로 출력하세요. 
출력은 반드시 <individuals> 태그로 감싸야 합니다.

<examples>
    <example>
        <input>실버미스트 계곡(Silvermist Hollow)의 깊은 곳에는 연금술사인 칼더 핀치 박사가 자신의 실험실에서 신비로운 용액을 연구하고 있습니다.</input>
        <output>
        <individuals>
            <person>
                <name>칼더 핀치 박사</name>
                <role>연금술사</role>
            </person>
        </individuals>
        </output>
    </example>
    <example>
        <input>마을 광장 옆에서 미라 나이트셰이드는 허브 전문가로서 부상당한 여행자들을 위해 치유의 약초를 준비합니다.</input>
        <output>
        <individuals>
            <person>
                <name>미라 나이트셰이드</name>
                <role>허브 전문가</role>
            </person>
        </individuals>
        </output>
    </example>
</examples>

<text>
오크 밸리(Oak Valley)의 강가에는 리버 러너인 핀리 리드가 배를 젓고 있고, 그 뒤를 따라 길잡이인 엘라라 스카이가 지도를 확인하며 걷고 있습니다.
</text>
```

**Claude의 답변:**
```xml
<individuals>
    <person>
        <name>핀리 리드</name>
        <role>리버 러너</role>
    </person>
    <person>
        <name>엘라라 스카이</name>
        <role>길잡이</role>
    </person>
</individuals>
```

단순히 "XML로 추출해줘"라고 지시하는 것보다, 실제 데이터가 들어간 예시를 보여줌으로써 Claude는 태그의 이름, 계층 구조, 심지어 **한 문장에 여러 명이 등장할 때 어떻게 처리해야 하는지**까지 완벽하게 학습합니다.

## 4. 실습 7.1: Few-shot 이메일 분류기 (Mixmaster 4000)

6강에서는 긴 지시사항과 단계적 추론(Chain of Thought)을 사용하여 복잡한 이메일을 분류했습니다. 이번에는 **Few-shot**을 통해 복잡한 추론 과정 없이도 정확도를 높이는 방법을 실습해 보겠습니다.

특히 'Mixmaster 4000' 사례처럼 제품 문의와 기술 지원 사이에서 경계가 모호한 경우, 몇 개의 예시가 명확한 기준이 됩니다.

**프롬프트:**
```xml
이메일을 다음 카테고리 중 하나로 분류하세요: (제품 문의, 환불 요청, 기술 지원, 기타)

<examples>
    <example>
        <input>안녕하세요, 지난주에 주문한 티셔츠가 아직 도착하지 않았어요. 송장 번호 확인 부탁드립니다.</input>
        <output>제품 문의</output>
    </example>
    <example>
        <input>제품이 파손된 상태로 배송되었습니다. 전액 환불받고 싶습니다. 어떻게 해야 하나요?</input>
        <output>환불 요청</output>
    </example>
    <example>
        <input>앱에서 로그인이 계속 실패합니다. 비밀번호 재설정을 해도 마찬가지예요. 해결 방법이 있을까요?</input>
        <output>기술 지원</output>
    </example>
    <example>
        <input>새로운 색상의 모델은 언제 출시되나요? 작년에 샀던 제품이 너무 마음에 들어서 하나 더 사고 싶네요.</input>
        <output>제품 문의</output>
    </example>
</examples>

<email>
안녕하세요, Mixmaster 4000 모델을 사용 중인데 오늘 아침부터 전원이 켜지지 않습니다. 어제까지는 문제없이 사용했습니다.
</email>
```

**Claude의 답변:**
> 기술 지원

위의 **Mixmaster 4000** 이메일은 단순한 제품 문의일까요, 아니면 기술적인 문제일까요? 예시 3번(로그인 실패)을 통해 '기기 작동 불능'이나 '오류' 상황이 **'기술 지원'**에 해당함을 모델에게 명확히 인지시켰기 때문에, Claude는 복잡한 생각 없이도 정확한 카테고리를 선택할 수 있습니다.

## 5. Few-shot Prompting 베스트 프랙티스

예시를 잘 활용하기 위해 다음의 4가지 원칙을 기억하세요.

1.  **적정 개수 유지**: 보통 3~5개의 예시가 가장 적당합니다. 너무 적으면 패턴을 파악하기 어렵고, 너무 많으면 프롬프트 비용이 불필요하게 증가하며 모델의 집중력이 흐트러질 수 있습니다.
2.  **다양성과 Edge Case 포함**: 단순히 성공 사례만 나열하지 마세요. 모델이 헷갈려 할 만한 경계선상의 사례(Edge Case)나, 데이터가 없을 때 "모르겠습니다"라고 답해야 하는 상황(I don't know scenario)을 예시로 포함하는 것이 성능 향상의 핵심입니다.
3.  **형식의 일관성**: 모든 예시는 동일한 구조와 형식을 유지해야 합니다. 예시 1에서는 XML을 쓰고 예시 2에서는 JSON을 쓰는 식의 불일치는 Claude에게 혼란을 줍니다.
4.  **XML 태그 활용**: `<examples>`, `<example>`, `<input>`, `<output>`과 같은 XML 태그를 사용하여 예시 구간과 실제 작업 구간을 명확하게 분리하세요. 이는 Claude가 어디까지가 학습용 데이터이고 어디부터가 실제 수행할 작업인지 구분하는 데 큰 도움을 줍니다.

## 6. 결론

Few-shot Prompting은 프롬프트 엔지니어링에서 가장 '가성비'가 좋은 기술입니다. 복잡한 로직을 말로 설명하느라 진땀 빼는 대신, **"자, 이렇게 하는 거야. 이거 보고 따라 해"**라고 모범 사례를 던져주세요. Claude는 여러분이 생각하는 것보다 훨씬 더 눈치가 빠르고 학습 능력이 뛰어납니다.

다음 시간에는 Claude의 환각(Hallucination) 현상을 획기적으로 줄이는 방법에 대해 알아보겠습니다.

## TL;DR

*   **Few-Shot**: 프롬프트에 3~5개의 예시를 포함하여 패턴을 학습시키는 기법.
*   **강점**: 말로 설명하기 힘든 말투(뉘앙스), 정밀한 데이터 추출 형식, 복잡한 분류 작업에 탁월함.
*   **패턴 매칭**: LLM은 지시어보다 질문-답변의 반복되는 패턴을 더 잘 이해함.
*   **팁**: XML 태그로 예시를 구분하고, 모호한 사례(Edge Case)를 예시로 가이드할 것.

## 참고 링크

*   [Anthropic 공식 문서 - Few-shot prompting](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/few-shot-prompting)
*   [Claude 기술 블로그 - Prompt Engineering Guide](https://www.anthropic.com/index/prompt-engineering)

Few-Shot, 프롬프트엔지니어링, Claude, AI학습, 데이터추출, 이메일분류, Mixmaster4000
